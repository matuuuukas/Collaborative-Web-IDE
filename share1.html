<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>collab editing, yo</title>
    <link rel="stylesheet" href="http://codemirror.net/lib/codemirror.css">
    <link rel="stylesheet" href="http://codemirror.net/theme/base16-dark.css">
    <script src="http://codemirror.net/lib/codemirror.js"></script>
    <script src="http://codemirror.net/addon/mode/overlay.js"></script>
    <script src="http://codemirror.net/mode/xml/xml.js"></script>
    <script src="http://codemirror.net/mode/markdown/markdown.js"></script>
    <script src="http://codemirror.net/mode/gfm/gfm.js"></script>

    <!-- Code block highlighting modes -->
    <script src="http://codemirror.net/mode/javascript/javascript.js"></script>
    <script src="http://codemirror.net/mode/css/css.js"></script>
    <script src="http://codemirror.net/mode/htmlmixed/htmlmixed.js"></script>
    <script src="http://codemirror.net/mode/clike/clike.js"></script>
    <script src="http://codemirror.net/mode/clojure/clojure.js"></script>
    <script src="http://codemirror.net/mode/ruby/ruby.js"></script>

    <style type="text/css">
      body
      {
        margin: 0;
        padding: 0;
        max-width:inherit;
        height: 100%;
      }
      html, form, .CodeMirror, .CodeMirror-scroll
      {
        height: 100%;
      }
        
        
        ul li {
            display: inline-block;
            list-style:none;
            
        }
        
        a {
            color:white;
            text-decoration:none;
            font-family: courier;
        }

        


    </style>
  </head>
  <body style="background-color:black;">
  
  <!-- <div class="">
        <ul>
            <li><button id="download">Download</button></li>
            <li><button id="random">Designer Tool</button></li>
            <li><h1>color code: <span id="color"></span></h1></li>
        </ul>
  </div> -->

<textarea wrap="hard" id="textit" style="outline:none;" cols="10" wrap="hard"></textarea>
<script src="/node_modules/socket.io-client/dist/socket.io.js"></script>


<script>

var editor = CodeMirror.fromTextArea(document.getElementById("textit"), {
  mode: 'javascript',
  lineNumbers: true,
  theme: "base16-dark",
  lineWrapping: true,
  tabSize: 4
});

let socket = io.connect();

let linkUrl = window.location.href;
console.log(linkUrl);
let linkSplit = linkUrl.split("/");
console.log(linkSplit);
let roomId = linkSplit[4];
console.log(roomId);

let userId = Date.now();

    socket.emit('edit', {
        content: editor.getValue(),
    }, roomId);

    







</script>

  </body>
</html>
